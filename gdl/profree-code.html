<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.5.1 on Tue Jul  2 12:50:49 2013 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>profree.pro (Documentation for /home/marrabld/projects/DIMITRI_2.0/Source/)</title>

    
    <link rel="stylesheet" type="text/css" media="all"
          href="../idldoc-resources/main.css" />
    <link rel="stylesheet" type="text/css" media="print"
          href="../idldoc-resources/main-print.css" />
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="profree.pro (Documentation for /home/marrabld/projects/DIMITRI_2.0/Source/)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">
    <div class="content">
      <code class="source"><span class="comments">;+</span>
<span class="comments">; NAME:</span>
<span class="comments">;   PROFREE</span>
<span class="comments">;</span>
<span class="comments">; AUTHOR:</span>
<span class="comments">;   Craig B. Markwardt, NASA/GSFC Code 662, Greenbelt, MD 20770</span>
<span class="comments">;   craigm@lheamail.gsfc.nasa.gov</span>
<span class="comments">;</span>
<span class="comments">; PURPOSE:</span>
<span class="comments">;   Free the pointers associated with an PRODIS abstract syntax tree</span>
<span class="comments">;</span>
<span class="comments">; CALLING SEQUENCE:</span>
<span class="comments">;   PROFREE, TREE</span>
<span class="comments">;   </span>
<span class="comments">; DESCRIPTION: </span>
<span class="comments">;</span>
<span class="comments">;   PROFREE frees the memory and pointers associated with an abstract</span>
<span class="comments">;   syntax tree, as returned by PRODIS.  Users should use this</span>
<span class="comments">;   procedure when they are finished with an abstract syntax tree and</span>
<span class="comments">;   want to release its resources.  The procedure frees all pointers</span>
<span class="comments">;   in the tree recursively.</span>
<span class="comments">;</span>
<span class="comments">; INPUTS:</span>
<span class="comments">;</span>
<span class="comments">;   TREE - the abstract syntax tree to be freed.  Upon return the</span>
<span class="comments">;          contents of TREE will be undefined.</span>
<span class="comments">;  </span>
<span class="comments">;</span>
<span class="comments">; SEE ALSO:</span>
<span class="comments">;</span>
<span class="comments">;   PRODIS, PROREND, CMSAVEDIR, CMSVLIB</span>
<span class="comments">;</span>
<span class="comments">; MODIFICATION HISTORY:</span>
<span class="comments">;   Written, 2000-2002, CM</span>
<span class="comments">;   Documented, 19 Mar 2002, CM</span>
<span class="comments">;   </span>
<span class="comments">;</span>
<span class="comments">; $Id: profree.pro,v 1.3 2002/03/19 21:45:02 craigm Exp $</span>
<span class="comments">;</span>
<span class="comments">;-</span>
<span class="comments">; Copyright (C) 2000-2002, Craig Markwardt</span>
<span class="comments">; This software is provided as is without any warranty whatsoever.</span>
<span class="comments">; Permission to use, copy, modify, and distribute modified or</span>
<span class="comments">; unmodified copies is granted, provided this copyright and disclaimer</span>
<span class="comments">; are included unchanged.</span>
<span class="comments">;-</span>

<a id="profree:source"></a>pro profree, tree
  if n_params() EQ 0 then begin
      message, 'USAGE:', /info
      message, '  PROFREE, TREE', /info
      return
  endif

  if n_elements(tree) EQ 0 then return

  sz = size(tree)
  if sz(sz(0)+1) NE 8 then return

  for i = 0, n_elements(tree)-1 do begin
      if tag_names(tree(i), /structure_name) EQ 'PDS_NODE' then begin
          for j = 0, 2 do begin
              if ptr_valid(tree(i).operands(j)) then $
                if n_elements(*tree(i).operands(j)) GT 0 then $
                profree, *tree(i).operands(j)
          endfor
          ptr_free, tree(i).operands
      endif
  endfor
  tree = 0
  dummy = temporary(tree)
end
</code>
    </div>
  </body>
</html>