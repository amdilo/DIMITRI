<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.5.1 on Tue Jul  2 12:50:58 2013 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>get_histogram.pro (Documentation for /home/marrabld/projects/DIMITRI_2.0/Source/)</title>

    
    <link rel="stylesheet" type="text/css" media="all"
          href="../idldoc-resources/main.css" />
    <link rel="stylesheet" type="text/css" media="print"
          href="../idldoc-resources/main-print.css" />
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="get_histogram.pro (Documentation for /home/marrabld/projects/DIMITRI_2.0/Source/)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">
    <div class="content">
      <code class="source"><span class="comments">;**************************************************************************************</span>
<span class="comments">;**************************************************************************************</span>
<span class="comments">;*</span>
<span class="comments">;* NAME:</span>
<span class="comments">;*      GET_HISTOGRAM       </span>
<span class="comments">;* </span>
<span class="comments">;* PURPOSE:</span>
<span class="comments">;*      GENERATES A HISTOGRAM INSIDE THE Z-BUFFER </span>
<span class="comments">;* </span>
<span class="comments">;* CALLING SEQUENCE:</span>
<span class="comments">;*      RES = GET_HISTOGRAM(HFILE,HDATA,NBINS)  </span>
<span class="comments">;* </span>
<span class="comments">;* INPUTS:</span>
<span class="comments">;*      HFILE    - THE FULL OUTPUT FILENAME OF THE JPG </span>
<span class="comments">;*      HDATA    - AN ARRAY OF DATA FOR HISTOGRAM ANALYSIS</span>
<span class="comments">;*      NBINS    - THE NUMBER OF REQUESTED BINS FOR THE HISTOGRAM</span>
<span class="comments">;*</span>
<span class="comments">;* KEYWORDS:</span>
<span class="comments">;*      PLOT_XSIZE  - OUTPUT PIXEL SIZE IN THE X DIRECTION (DEFAULT = 700) </span>
<span class="comments">;*      PLOT_YSIZE  - OUTPUT PIXEL SIZE IN THE Y DIRECTION (DEFAULT = 400)</span>
<span class="comments">;*      HTITLE      - TITLE OF THE HISTOGRAM PLOT  </span>
<span class="comments">;*      HX_TITLE    - X-TITLE OF THE PLOT</span>
<span class="comments">;*      HY_TITLE    - Y-TITLE OF THE PLOT</span>
<span class="comments">;*      VERBOSE     - PROCESSING STATUS OUTPUTS</span>
<span class="comments">;*</span>
<span class="comments">;* OUTPUTS:</span>
<span class="comments">;*      STATUS      - 1 = NOMINAL, (-1) OR 0 = ERROR</span>
<span class="comments">;*</span>
<span class="comments">;* COMMON BLOCKS:</span>
<span class="comments">;*      NONE</span>
<span class="comments">;*</span>
<span class="comments">;* MODIFICATION HISTORY:</span>
<span class="comments">;*      19 JAN 2011 - C KENT   - DIMITRI-2 V1.0</span>
<span class="comments">;*</span>
<span class="comments">;* VALIDATION HISTORY:</span>
<span class="comments">;*      13 DEC 2010 - C KENT   -  </span>
<span class="comments">;*</span>
<span class="comments">;**************************************************************************************</span>
<span class="comments">;**************************************************************************************</span>

FUNCTION GET_HISTOGRAM,HFILE,HDATA,NBINS,HTITLE=HTITLE,HX_TITLE=HX_TITLE,HY_TITLE=HY_TITLE,NO_ZBUFF=NO_ZBUFF, $
                       PLOT_XSIZE=PLOT_XSIZE,PLOT_YSOZE=PLOT_YSOZE,VERBOSE=VERBOSE

<span class="comments">;------------------------------------------------</span>
<span class="comments">; SET KEYWORD VALUES</span>

  IF NOT KEYWORD_SET(PLOT_XSIZE)  THEN PLOT_XSIZE = 700
  IF NOT KEYWORD_SET(PLOT_YSIZE)  THEN PLOT_YSIZE = 400
  IF NOT KEYWORD_SET(HTITLE)      THEN HTITLE     = ''
  IF NOT KEYWORD_SET(HX_TITLE)    THEN HX_TITLE   = ''
  IF NOT KEYWORD_SET(HY_TITLE)    THEN HY_TITLE   = ''

<span class="comments">;------------------------------------------------</span>
<span class="comments">; SETUP WINDOW PROPERTIES</span>

  MACHINE_WINDOW = !D.NAME
  IF NOT KEYWORD_SET(NO_ZBUFF) THEN BEGIN
  IF KEYWORD_SET(VERBOSE) THEN PRINT, 'GET HISTOGRAM: GENERATING PLOTS WITHIN Z-BUFFER'
  SET_PLOT, 'Z'
  DEVICE, SET_RESOLUTION=[PLOT_XSIZE,PLOT_YSIZE],SET_PIXEL_DEPTH=24
  ERASE  
  ENDIF ELSE WINDOW,XSIZE = PLOT_XSIZE,YSIZE=PLOT_YSIZE
  DEVICE, DECOMPOSED = 0

<span class="comments">;----------------------------------------------- </span>
<span class="comments">; PLOT THE HISTOGRAM </span>

  HIST = HISTOGRAM(HDATA,LOCATIONS=BIN, NBINS=NBINS)
  PLOT, BIN, 1.0*HIST/N_ELEMENTS(HDATA), BACKGROUND=255, COLOR=0, $
        CHARSIZE=1.0, XTITLE=HX_TITLE, $
        YTITLE=HY_TITLE,TITLE=HTITLE

  TEMP = TVRD(/TRUE)
  WRITE_JPEG,HFILE,TEMP,TRUE=1

<span class="comments">;-----------------------------------------------</span>
<span class="comments">; RETURN DEVICE WINDOW TO NOMINAL SETTING</span>
 
  IF KEYWORD_SET(VERBOSE)  THEN PRINT, 'GET HISTOGRAM: RESETTING DEVICE WINDOW PROPERTIES'
  IF KEYWORD_SET(NO_ZBUFF) THEN WDELETE
  SET_PLOT, MACHINE_WINDOW
  RETURN,1

END
</code>
    </div>
  </body>
</html>