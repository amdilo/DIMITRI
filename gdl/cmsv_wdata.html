<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.5.1 on Thu Jul  4 16:01:34 2013 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>cmsv_wdata.pro (Documentation for /home/marrabld/projects/DIMITRI_2.0/Source/)</title>

    

    <script type="text/javascript" src="../idldoc-resources/js/jquery.js"></script>
    <script type="text/javascript" src="../idldoc-resources/js/copybutton.js"></script>

    
    <link rel="stylesheet" type="text/css" media="all"
          href="../idldoc-resources/main.css" />
    <link rel="stylesheet" type="text/css" media="print"
          href="../idldoc-resources/main-print.css" />
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="cmsv_wdata.pro (Documentation for /home/marrabld/projects/DIMITRI_2.0/Source/)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">

    <div class="header">
      <h1>Documentation for /home/marrabld/projects/DIMITRI_2.0/Source/</h1>
      <h2>Generated by IDLdoc</h2>
    </div>
    
    
    <table class="navbar smaller" summary="Navigation header" cellspacing="0">
      <tr>
        <td >
          <a href="../overview.html">Overview</a>
        </td>
    
        <td >
          Directory
        </td>
    
        <td class="selected">File</td>
    
        
        <td >
          <a href="cmsv_wdata-code.html" title="Chromocoded source">Source</a> <a href="cmsv_wdata.pro" title=".pro file"><img src="../idldoc-resources/attach.png" alt="[attach.png]" align="top"/></a>
        </td>
        
    
        <td >Etc</td>
    
        <td >
        	<a href="../categories.html">Categories</a>
        </td>
    
        <td >
        	<a href="../search.html">Search</a>
        </td>
    
        
        <td >
          <a href="../idldoc-index.html">Index</a>
        </td>
        
    
        
        <td >
          <a href="../idldoc-warnings.html">Warnings</a>
        </td>
        
    
        <td >
          <a href="../idldoc-help.html">Help</a>
        </td>
    
        <td class="flexible">
          Developer documentation
        </td>
      </tr>
    </table>
    
    
    
    <p class="localnavbar smallest"><a href="" target="_top">single page</a> | <a href="../index.html" target="_top">use frames</a> &nbsp;&nbsp;&nbsp; summary &nbsp;&nbsp;&nbsp; class &nbsp;&nbsp;&nbsp; fields &nbsp;&nbsp;&nbsp; <a href="#routine-details">routine details</a> &nbsp;&nbsp;&nbsp; <a href="#attributes">file attributes</a></p>
    
    
    
    
    
    
    
    
    

    <div class="content">
      <h2 class="directory">gdl/</h2>
      <h1 class="basename">cmsv_wdata.pro<span class="file-attributes"></span></h1>
      

      
      
      
      <br/>

      
      <div id="file_comments">
        <div class="small "><p> NAME:
   CMSV_WDATA
</p>

<p> AUTHOR:
   Craig B. Markwardt, NASA/GSFC Code 662, Greenbelt, MD 20770
   craigm@lheamail.gsfc.nasa.gov
</p>

<p> PURPOSE:
   Write SAVE-formatted data variable record to output block or file
</p>

<p> CALLING SEQUENCE:
   CMSV_WDATA, BLOCK, POINTER, DATA, UNIT=UNIT, TEMPORARY=TEMPORARY, $
               PTR_INDEX=PTR_INDEX, PTR_DATA=PTR_DATA, $
               OFFSET=OFFSET, STATUS=STATUS, ERRMSG=ERRMSG
</p>

<p> DESCRIPTION:
</p>

<p>   CMSV_WDATA writes the data portion of an IDL SAVE variable record.
   An IDL variable is stored in two components: the type descriptor
   which describes the name, type, and dimensions of the variable;
   and the data record, which contains the raw data of the variable.
   This procedure writes the raw data to the output.  The initial
   type descriptor portion of the record must have already been
   writtenusing the CMSV_WVTYPE procedure.
</p>

<p>   Under normal circumstances a user will write variable or heap data
   using the CMSV_WREC procedure.
</p>

<p>   CMSV_WDATA supports the following variable types:
</p>

<p>     BYTE(1),INT(2),LONG(3) - integer types
     UINT(12),ULONG(13),LONG64(14),ULONG64(15) - integer types (IDL &gt;5.2 only)
     FLOAT(4),DOUBLE(5),COMPLEX(6),DCOMPLEX(9) - float types
     STRING(7) - string type
     STRUCT(8) - structure type
     POINTER(10) - pointer type - SEE BELOW
     NOT SUPPORTED - OBJ(11) - object reference type - NOT SUPPORTED
</p>

<p>   Arrays and structures containing any of the supported types are
   supported (including structures within structures).
</p>

<p>   The caller must specify in the DATA parameter, the data to be
   written to output.  The variable passed as DATA must have the same
   type and dimensions as passed to CMSV_WVTYPE.
</p>

<p>   Unlike most of the other output routines, this procedure is able
   to send its output to a file rather than to the BLOCK buffer.  If
   the UNIT keyword is specified then output is sent to that file
   UNIT, after any pending BLOCK data is first sent.  Users should
   note that after such operations, the BLOCK POINTER and OFFSET
   parameters may be modified (ie reset to new values).
</p>

<p>   See CMSV_WREC for instructions on how to write heap data.
</p>

<p>   [ This code assumes the record header and type descriptor have
   been written with CMSV_WREC and CMSV_WVTYPE. ]
</p>

<p> ==================================================================
   Research Systems, Inc. has issued a separate license intended
   to resolve any potential conflict between this software and the
   IDL End User License Agreement. The text of that license
   can be found in the file LICENSE.RSI, included with this
   software library.
 ==================================================================
</p>

<p> BLOCK, POINTER, OFFSET
</p>

<p>   This procedure writes data to a byte array or a file.  If the UNIT
   keyword is specified then file is sent to the specified unit
   number rather than to the buffer BLOCK.  However, the intent is
   for users to accumulate a significant amount of data in a BLOCK
   and then write it out with a single call to WRITEU.  Users should
   be aware that the block can be larger than the buffered data, so
   they should use something like the following:
</p>

<p>          WRITEU, UNIT, BLOCK(0:POINTER-1)
</p>

<p>   When library routines do indeed write buffered BLOCK data to disk,
   they will appropriately reset the BLOCK and POINTER.  Namely,
   BLOCK will be reset to empty, and POINTER will be reset to zero.
   OFFSET will be advanced the according number of bytes.
</p>

<p>   The terminology is as follows: BLOCK is a byte array which
   represents a portion of, or an entire, IDL SAVE file.  The block
   may be a cached portion of an on-disk file, or an entire in-memory
   SAVE file.  POINTER is the current file pointer within BLOCK
   (i.e., the next byte to be read is BLOCK[POINTER]).  Hence, a
   POINTER value of 0 refers to the start of the block.  OFFSET is
   the file offset of the 0th byte of BLOCK; thus "POINT_LUN,
   OFFSET+POINTER" should point to the same byte as BLOCK[POINTER].
   The following diagram shows the meanings for BLOCK, POINTER and
   OFFSET schematically:
</p>

<p>                 0 &lt;-  OFFSET  -&gt; |
   FILE          |----------------|------*--------|---------&gt;
</p>

<p>   BLOCK                          |------*--------|
                                  0      ^ POINTER
</p>

<p>   This procedure is part of the CMSVLIB SAVE library for IDL by
   Craig Markwardt.  You must have the full CMSVLIB core package
   installed in order for this procedure to function properly.
</p>

<p> INPUTS:
</p>

<p>   BLOCK - a byte array, a cache of the SAVE file.  Users will
           usually not access this array directly.  Users are advised
           to clear BLOCK after calling POINT_LUN or writing the
           block to disk.
</p>

<p>   POINTER - a long integer, a pointer to the next byte to be read
             from BLOCK.  CMSVLIB routines will automatically
             advance the pointer.
</p>

<p>   DATA - the data to be written, of any save-able data type.
</p>

<p> KEYWORDS:
</p>

<p>   TEMPORARY - if set, then the input DATA are discarded after being
               written, as a memory economy provision.
</p>

<p>   PTR_INDEX - a heap index array for the data being written, if any
               heap data records have been written.
               Default: no pointers are written
</p>

<p>   PTR_DATA - an array of pointers, pointing to the heap values being
              written.
              Default: no pointers are written
</p>

<p>   UNIT - a file unit.  If specified then data are directed to the
          file unit rather than to the buffer BLOCK.
</p>

<p>   OFFSET - the file offset of byte zero of BLOCK.
            Upon output, if the file pointer is advanced, OFFSET will
            also be changed.
            (OFFSET is not currently used by this routine)
            Default: 0
</p>

<p>   STATUS - upon return, this keyword will contain 1 for success and
            0 for failure.
</p>

<p>   ERRMSG - upon return with a failure, this keyword will contain the
            error condition as a string.
</p>

<p> EXAMPLE:
</p>

<p> SEE ALSO:
</p>

<p>   CMRESTORE, SAVE, RESTORE, CMSVLIB
</p>

<p> MODIFICATION HISTORY:
   Written, 2000
   Documented, 24 Jan 2001
   Added notification about RSI License, 13 May 2002, CM
   Added support for byte scalars and arrays (!), 27 Mar 2006, CM
   NOTE: remember to modify CMSVLIB.PRO when changing library!
</p>

<p> $Id: cmsv_wdata.pro,v 1.10 2009/11/22 22:50:49 craigm Exp $
</p>

<p></p>

</div>
      </div>
      

      

      

      

      

      
      <div>
        <h2>Routines</h2>

        <dl class="routine-summary">
          
            <dt class="syntax"><a href="#cmsv_wconv"><code>cmsv_wconv<span class="argument">, data</span></code></a></dt>
            <dd class="small"></dd>
          
            <dt class="syntax"><a href="#cmsv_wdata"><code>cmsv_wdata<span class="argument">, block</span><span class="argument">, pointer</span><span class="argument">, value</span><span class="argument">, unit=<span class="var">unit</span></span><span class="argument">, temporary=<span class="var">temporary</span></span><span class="argument">, ptr_index=<span class="var">ptr_index</span></span><span class="argument">, ptr_data=<span class="var">ptr_data</span></span><span class="argument">, start=<span class="var">start</span></span><span class="argument">, status=<span class="var">status</span></span><span class="argument">, errmsg=<span class="var">errmsg</span></span></code></a></dt>
            <dd class="small"></dd>
          
        </dl>
      </div>
      


      
      <div id="routine-details">
        <h2>Routine details</h2>

        
        <div class="routine-details details" id="cmsv_wconv">
          <h2 class="routine-name"><a href="#root" class="top">top</a> <a href="cmsv_wdata-code.html#cmsv_wconv:source" class="top">source</a> cmsv_wconv<span class="routine-attributes"></span></h2>

          

          <p class="syntax"><code>cmsv_wconv<span class="argument">, <a href="#cmsv_wconv:p:data">data</a></span></code></p>

          

          

          
          <h3>Parameters</h3>
            <dl>
              
              <dt id="cmsv_wconv:p:data">data <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
            </dl>
          

          

          

          

          

          

        </div>
        
        <div class="routine-details details" id="cmsv_wdata">
          <h2 class="routine-name"><a href="#root" class="top">top</a> <a href="cmsv_wdata-code.html#cmsv_wdata:source" class="top">source</a> cmsv_wdata<span class="routine-attributes"></span></h2>

          

          <p class="syntax"><code>cmsv_wdata<span class="argument">, <a href="#cmsv_wdata:p:block">block</a></span><span class="argument">, <a href="#cmsv_wdata:p:pointer">pointer</a></span><span class="argument">, <a href="#cmsv_wdata:p:value">value</a></span><span class="argument">, <a href="#cmsv_wdata:k:unit">unit</a>=<span class="var">unit</span></span><span class="argument">, <a href="#cmsv_wdata:k:temporary">temporary</a>=<span class="var">temporary</span></span><span class="argument">, <a href="#cmsv_wdata:k:ptr_index">ptr_index</a>=<span class="var">ptr_index</span></span><span class="argument">, <a href="#cmsv_wdata:k:ptr_data">ptr_data</a>=<span class="var">ptr_data</span></span><span class="argument">, <a href="#cmsv_wdata:k:start">start</a>=<span class="var">start</span></span><span class="argument">, <a href="#cmsv_wdata:k:status">status</a>=<span class="var">status</span></span><span class="argument">, <a href="#cmsv_wdata:k:errmsg">errmsg</a>=<span class="var">errmsg</span></span></code></p>

          

          

          
          <h3>Parameters</h3>
            <dl>
              
              <dt id="cmsv_wdata:p:block">block <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="cmsv_wdata:p:pointer">pointer <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="cmsv_wdata:p:value">value <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
            </dl>
          

          
          <h3>Keywords</h3>
            <dl>
              
              <dt id="cmsv_wdata:k:unit">unit <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="cmsv_wdata:k:temporary">temporary <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="cmsv_wdata:k:ptr_index">ptr_index <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="cmsv_wdata:k:ptr_data">ptr_data <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="cmsv_wdata:k:start">start <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="cmsv_wdata:k:status">status <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="cmsv_wdata:k:errmsg">errmsg <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
            </dl>
          

          

          

          

          

        </div>
        

      </div>
      

      <div id="attributes">
        <h2>File attributes</h2>

        <table class="attribute small" summary="File attributes">
          <tr>
            <td class="name">Modification date:</td>
            <td>Thu Nov 18 06:05:26 2010</td>
          </tr>

          <tr>
            <td class="name">Lines:</td>
            <td>369</td>
          </tr>

          
        </table>
      </div>

      
    </div>

    <div class="footer">
    
      <table class="smaller" summary="footer">
        <tr>
          <td class="left">Produced by IDLdoc 3.5.1 on Thu Jul  4 16:01:34 2013</td>
          <td class="right"><a target="_top" href="http://idldoc.idldev.com">IDLdoc project information</a></td>
        </tr>
      </table>
    
    </div>
  </body>
</html>